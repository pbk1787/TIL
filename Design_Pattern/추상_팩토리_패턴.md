# 추상 팩토리 패턴
    서로 관련있는 여러 객체를 만들어주는 인터페이스
- 구체적으로 인스턴스를 생성하는 것까지는 팩토리 메서드 패턴과 비슷하지만, 팩토리를 사용하는 클라이언트의 입장에서 사용하는 패턴이다.
- 팩토리를 사용하는 쪽의 코드도 같이 봐야한다.


## 추상 팩토리 패턴 적용하기

> 적용 전
```java
//Client 부분에 해당됨
public class WhiteshipFactory extends DefaultShipFactory {

    @Override
    public Ship createShip() { 
        Ship ship = new Whiteship();
        ship.setAnchor(new WhiteAnchor()); //anchor와 wheel이 필요한데, 신제품이 나와서 바꿔 끼고 싶을 때
        ship.setWheel(new WhiteWheel());   //구체적인 클래스를 선언하여 사용중...
        return ship;
    }
}
```

> 적용 후
```java

//추상 팩토리 패턴
public interface ShipPartsFactory {

    //Anchor 와 Wheel은 interface로 만들어져 있음
    Anchor createAnchor();

    Wheel createWheel();

}

public class WhitePartsProFactory implements ShipPartsFactory {
    @Override
    public Anchor createAnchor() {
        return new WhiteAnchorPro();
    }

    @Override
    public Wheel createWheel() {
        return new WhiteWheelPro();
    }
}

//Anchor 규격에 맞게 만들어야하기 때문에 interface 구현
public class WhiteAnchorPro implements Anchor{
}

//추상 팩토리 사용
public class WhiteshipFactory extends DefaultShipFactory {

    private ShipPartsFactory shipPartsFactory;

    public WhiteshipFactory(ShipPartsFactory shipPartsFactory) {
        this.shipPartsFactory = shipPartsFactory;
    }

    @Override
    public Ship createShip() {
        Ship ship = new Whiteship();
        ship.setAnchor(shipPartsFactory.createAnchor());
        ship.setWheel(shipPartsFactory.createWheel());
        return ship;
    }
}


//실행
public class ShipInventory {

    public static void main(String[] args) {

        //밖에서 사용할 Factory를 주입하여 사용
        ShipFactory shipFactory = new WhiteshipFactory(new WhiteshipPartsFactory());
        // ShipFactory shipFactory = new WhiteshipFactory(new WhiteshipPartsProFactory());
        Ship ship = shipFactory.createShip();
        System.out.println(ship.getAnchor().getClass());
        System.out.println(ship.getWheel().getClass());
    }
}
```

